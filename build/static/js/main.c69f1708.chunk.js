(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{31:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(19),a=n.n(s),i=n(7),l=n(8),o=n(10),j=n(9),h=n(0),b=function(e){Object(o.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={allGenre:["Action","Comedy","Romance","Thriller","Horror","Sci-Fi"]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/genre").then((function(e){return e.json()})).then((function(t){e.setState({allGenre:t})}))}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("ul",{class:"list-group",children:[Object(h.jsx)("li",{class:"All Genre"==this.props.currGenre?"list-group-item active":"list-group-item",onClick:function(){e.props.recieveGenre("All Genre")},children:"All Genre"},"All Genre"),this.state.allGenre.map((function(t){return Object(h.jsx)("li",{class:e.props.currGenre==t.name?"list-group-item active":"list-group-item",onClick:function(){e.props.recieveGenre(t.name)},children:t.name},t._id)}))]})}}]),n}(c.a.Component),u=function(e){Object(o.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Showing ",this.props.NoMovies," movies from the database"]}),Object(h.jsx)("button",{type:"button",class:"btn btn-primary mb-4",children:"New"}),Object(h.jsx)("div",{class:"input-group mb-3",children:Object(h.jsx)("input",{type:"text",class:"form-control",placeholder:"Search...",onChange:function(t){e.props.passSearch(t.currentTarget.value)}})})]})}}]),n}(c.a.Component),d=function(e){Object(o.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={allMovies:[],currPage:1},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/movies").then((function(e){return e.json()})).then((function(t){e.setState({allMovies:t}),e.props.NumberOFMovies(t.length)}))}},{key:"render",value:function(){var e=this,t=[];if(t="All Genre"!=this.props.recievedGenre?this.state.allMovies.filter((function(t){return t.genre.name==e.props.recievedGenre})):this.state.allMovies,this.props.passInput){var n=this.props.passInput.toLowerCase();t=t.filter((function(e){return e.title.toLowerCase().includes(n)}))}for(var r=Math.ceil(t.length/5),c=[],s=1;s<=r;s++)c.push(s);var a=5*(this.state.currPage-1),i=5*this.state.currPage-1;return t=t.slice(a,Math.min(i,t.length-1)+1),Object(h.jsxs)("div",{children:[Object(h.jsxs)("table",{class:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"Title"}),Object(h.jsx)("th",{scope:"col",children:"Genre"}),Object(h.jsx)("th",{scope:"col",children:"Stock"}),Object(h.jsx)("th",{scope:"col",children:"Rate"}),Object(h.jsx)("th",{scope:"col"}),Object(h.jsx)("th",{scope:"col"})]})}),Object(h.jsx)("tbody",{children:t.map((function(n){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"row",children:n.title}),Object(h.jsx)("td",{children:n.genre.name}),Object(h.jsx)("td",{children:n.numberInStock}),Object(h.jsx)("td",{children:n.dailyRentalRate}),Object(h.jsx)("td",{onClick:function(){var r=t,c=r.findIndex((function(e){return n._id==e._id}));r[c].liked?r[c].liked=!1:r[c].liked=!0,e.setState({allMovies:r})},children:n.liked?"Liked!":"Like"}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){var t=e.state.allMovies.filter((function(e){return n._id!=e._id}));e.props.NumberOFMovies(t.length),e.setState({allMovies:t})},children:"Delete"})})]},n._id)}))})]}),Object(h.jsx)("nav",{"aria-label":"Page navigation example",children:Object(h.jsxs)("ul",{class:"pagination",children:[Object(h.jsx)("li",{class:"page-item",onClick:function(){var t=e.state.currPage;--t<1&&(t=1),e.setState({currPage:t})},children:Object(h.jsx)("a",{class:"page-link",href:"#",children:"Previous"})}),c.map((function(t){return Object(h.jsx)("li",{class:"page-item",onClick:function(){e.setState({currPage:t})},children:Object(h.jsx)("a",{class:"page-link",href:"#",children:t})})})),Object(h.jsx)("li",{class:"page-item",onClick:function(){var t=e.state.currPage;++t>r&&(t=r),e.setState({currPage:t})},children:Object(h.jsx)("a",{class:"page-link",href:"#",children:"Next"})})]})})]})}}]),n}(c.a.Component),v=function(e){Object(o.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={NoOfMovies:0,Searchstring:"",currGenre:"All Genre"},e.NumberOFMovies=function(t){e.setState({NoOfMovies:t})},e.passSearch=function(t){e.setState({Searchstring:t})},e.recieveGenre=function(t){e.setState({currGenre:t})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsx)(c.a.Fragment,{children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-2 pd-3",children:Object(h.jsx)(b,{recieveGenre:this.recieveGenre,currGenre:this.state.currGenre})}),Object(h.jsxs)("div",{className:"col-10 p-4",children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-3",children:Object(h.jsx)(u,{NoMovies:this.state.NoOfMovies,passSearch:this.passSearch})})}),Object(h.jsx)("div",{className:"row ",children:Object(h.jsx)("div",{className:"col-8",children:Object(h.jsx)(d,{NumberOFMovies:this.NumberOFMovies,passInput:this.state.Searchstring,recievedGenre:this.state.currGenre})})})]})]})})}}]),n}(c.a.Component),p=n(11),O=n(2);var x=function(){return Object(h.jsx)("h1",{children:"Hello Buyers"})};var f=function(){return Object(h.jsx)("h1",{children:"How to rent Movies??"})};var g=function(){return Object(h.jsx)("h1",{children:"This is where you login."})};var m=function(){return Object(h.jsx)("nav",{class:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(h.jsxs)("div",{class:"container-fluid",children:[Object(h.jsx)(p.b,{class:"navbar-brand",to:"/",children:"MovieRentals"}),Object(h.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(h.jsx)("span",{class:"navbar-toggler-icon"})}),Object(h.jsx)("div",{class:"collapse navbar-collapse",id:"navbarNav",children:Object(h.jsxs)("ul",{class:"navbar-nav",children:[Object(h.jsx)("li",{class:"nav-item",children:Object(h.jsx)(p.b,{class:"nav-link active","aria-current":"page",to:"/",children:"Movies"})}),Object(h.jsx)("li",{class:"nav-item",children:Object(h.jsx)(p.b,{class:"nav-link",to:"/customers",children:"Customers"})}),Object(h.jsx)("li",{class:"nav-item",children:Object(h.jsx)(p.b,{class:"nav-link",to:"/rentals",children:"Rentals"})}),Object(h.jsx)("li",{class:"nav-item",children:Object(h.jsx)(p.b,{class:"nav-link",to:"/login",tabindex:"-1","aria-disabled":"true",children:"Login"})})]})})]})})};a.a.render(Object(h.jsxs)(p.a,{children:[Object(h.jsx)(m,{}),Object(h.jsxs)(O.c,{children:[Object(h.jsx)(O.a,{path:"/customers",children:Object(h.jsx)(x,{})}),Object(h.jsx)(O.a,{path:"/login",children:Object(h.jsx)(g,{})}),Object(h.jsx)(O.a,{path:"/rentals",children:Object(h.jsx)(f,{})}),Object(h.jsx)(O.a,{path:"/",children:Object(h.jsx)(v,{})})]})]}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.c69f1708.chunk.js.map